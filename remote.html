<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">
<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>

<body style="background: black">

<a href="https://github.com/a904guy/Boxee-Remote-Web-Version"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_red_aa0000.png" alt="Fork this on GitHub"></a>

<div class="container">
    <div class="row">
        <span class="span1 offset1" style="text-align: center">
            <img style="margin-left:30px" src="http://markassets.boxee.tv/assets/boxee_logo_white_eye-18dc3bb380d883b82c1384f3e3545fd1.png"/>
        </span>
        <span class="span1">
            <a class="host-editor btn" href="#" style="width:70px">Host <i class="icon-wrench"></i></a>
        </span>
    </div>
    
    <div id="host-editor" class="row" style="display: none">
        <span class="span3">
            <input id="host" type="text" value="11.1.11.46:8800" style="width:295px; height:30px" placeholder="host:port" />
        </span>
    </div>
    
    <div class="row">
        <span class="span1">
            <a href="#" class="btn" command="SendKey(275)" style="width:70px">Back <i class="icon-step-backward"></i></a>
        </span>
        <span class="span1">
            <a href="#" class="btn" command="SendKey(270)" style="width:70px">Up <i class="icon-arrow-up"></i></a>
        </span>
        <span class="span1">
            <a href="#" class="btn" command="SendKey(61453)" style="width:70px">Select <i class=" icon-share-alt"></i></a>
        </span>
    </div>
    
    <div class="row" style="margin-top:15px;">
        <span class="span1">
            <a href="#" class="btn" command="SendKey(272)" style="width:70px">Left <i class="icon-arrow-left"></i></a>
        </span>
        <span class="span1">
            <a href="#" class="btn" command="SendKey(271)" style="width:70px">Down <i class="icon-arrow-down"></i></a>
        </span>
        <span class="span1">
            <a href="#" class="btn" command="SendKey(273)" style="width:70px">Right <i class="icon-arrow-right"></i></a>
        </span>
    </div>
</div>

<script>
    $(document).ready(function(){
        $("a[command]").click(function(){
            $("iframe[requester]").attr('src','http://'+$("#host").val()+'/xbmcCmds/xbmcHttp?command='+$(this).attr('command'));
        });
        $("a.host-editor").click(function(){ $("#host-editor").toggle(); });
        $(document).keyup(function(e){
            $("iframe[requester]").attr('src','http://'+$("#host").val()+'/xbmcCmds/xbmcHttp?command=SendKey('+key_converter(event.which+61696)+')');
        });
    });
    
    function key_converter(code)
    {
        switch(code)
        {
            case 61734: return 270; // Up
                break;
            case 61736: return 271; // Down
                break;
            case 61733: return 272; // Left
                break;
            case 61735: return 273; // Right
                break;
            case 61709: return 61453; // Select
                break;
            case 61704: return 275; // Back;
                break;
        }
        return 0;
    }
</script>

<iframe requester src="" style="display: none"></iframe>
    
</body>